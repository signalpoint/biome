<!doctype html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>CanvasCraft | Pixel Art Game</title>

    <!-- Font Awesome -->
    <script src="vendor/fontawesome-free-5.15.4-web/js/all.min.js"></script>

    <script type="text/javascript" src="js/StopWatch.js"></script>

    <script type="text/javascript" src="js/Designer.js"></script>
    <script type="text/javascript" src="js/DesignerWidget.js"></script>
    <script type="text/javascript" src="js/DesignerGame.js"></script>
    <script type="text/javascript" src="js/DesignerMenu.js"></script>
    <script type="text/javascript" src="js/DesignerPlayback.js"></script>
    <script type="text/javascript" src="js/DesignerMode.js"></script>
    <script type="text/javascript" src="js/DesignerPlayer.js"></script>
    <script type="text/javascript" src="js/DesignerCamera.js"></script>
    <script type="text/javascript" src="js/DesignerStorage.js"></script>

    <script type="text/javascript" src="js/Block.js"></script>
    <script type="text/javascript" src="js/blocks/Bedrock.js"></script>
    <script type="text/javascript" src="js/blocks/BlueberryBush.js"></script>
    <script type="text/javascript" src="js/blocks/Border.js"></script>
    <script type="text/javascript" src="js/blocks/Grass.js"></script>
    <script type="text/javascript" src="js/blocks/OakPlank.js"></script>
    <script type="text/javascript" src="js/blocks/OakTreeWood.js"></script>
    <script type="text/javascript" src="js/blocks/OakTreeLeaves.js"></script>
    <script type="text/javascript" src="js/blocks/Sand.js"></script>
    <script type="text/javascript" src="js/blocks/Stone.js"></script>
    <script type="text/javascript" src="js/blocks/Water.js"></script>

    <script type="text/javascript" src="js/Building.js"></script>
    <script type="text/javascript" src="js/BuildingWidget.js"></script>
    <script type="text/javascript" src="js/buildings/Campground.js"></script>
    <script type="text/javascript" src="js/buildings/BuildersWorkshop.js"></script>
    <script type="text/javascript" src="js/buildings/LumberCamp.js"></script>

    <script type="text/javascript" src="js/Player.js"></script>
    <script type="text/javascript" src="js/PlayerMode.js"></script>

    <script type="text/javascript" src="js/Npc.js"></script>
    <script type="text/javascript" src="js/npcs/Villager.js"></script>

    <script type="text/javascript" src="js/Action.js"></script>
    <script type="text/javascript" src="js/actions/ActionGoToBlock.js"></script>
    <script type="text/javascript" src="js/actions/ActionMineBlock.js"></script>
    <script type="text/javascript" src="js/actions/ActionGoToBuilding.js"></script>

    <link rel="stylesheet" href="vendor/bootstrap-5.2.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="vendor/fontawesome-free-5.15.4-web/css/all.min.css">
    <link rel="stylesheet" href="css/designer.css">

  </head>

  <body class="bg-dark">

    <nav id="d-menu" class="navbar navbar-expand-lg navbar-dark bg-dark flex-md-nowrap p-0 shadow">

      <div class="container-fluid">

        <a class="navbar-brand text-white" href="#">CanvasCraft</a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">

            <!-- FILE -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                File
              </a>
              <ul class="dropdown-menu">

                <!-- File / New -->
                <li><a class="dropdown-item d-menu-op" href="#" data-op="file:new">New</a></li>

                <!-- File / Open -->
                <li><a class="dropdown-item d-menu-op" href="#" data-op="file:open">Open</a></li>

                <!-- File / Save -->
                <li><a class="dropdown-item d-menu-op" href="#" data-op="file:save">Save</a></li>

                <li><hr class="dropdown-divider"></li>

                <!-- File / Import -->
                <li><a class="dropdown-item d-menu-op" href="#" data-op="file:import">Import</a></li>

                <!-- File / Export -->
                <li><a class="dropdown-item d-menu-op" href="#" data-op="file:export">Export</a></li>

              </ul>
            </li>

            <!-- View -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                View
              </a>
              <ul class="dropdown-menu">

                <!-- Toolbar -->
                <li>
                  <a class="dropdown-item designer-widget-btn" href="#" data-designer-widget="designerModeWidget">
                    <i class="fas fa-tools me-2"></i>Toolbar
                  </a>
                </li>

                <!-- Camera -->
                <li>
                  <a class="dropdown-item designer-widget-btn" href="#" data-designer-widget="cameraWidget">
                    <i class="fas fa-camera me-2"></i>Camera
                  </a>
                </li>

              </ul>
            </li>

            <!-- ABOUT -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                About
              </a>
              <ul class="dropdown-menu pt-0">

                <!-- Title -->
                <li><div class="alert alert-dark text-center fs-5">CanvasCraft</div></li>

                <!-- Version -->
                <li class="px-3 pb-3">Version <span class="badge bg-info fs-6 float-end">0.0.0</span></li>

                <!-- GitHub -->
                <li>
                  <a class="dropdown-item" href="https://github.com/signalpoint/biome" target="_blank" title="CanvasCraft on GitHub"><i class="fab fa-github me-2"></i>signalpoint/biome</a>
                </li>

              </ul>
            </li>

          </ul>
        </div>

        <!-- Player Icon -->
        <button type="button" id="playerBtn" class="designer-widget-btn btn btn-dark" data-designer-widget="playerWidget" title="Player">
          <i class="fas fa-user"></i>
        </button>

      </div>

    </nav>

    <!--<div class="container-fluid">-->

      <!-- PLAYER -->
      <fieldset id="playerWidget" class="designer-widget d-none border border-secondary bg-light">

        <legend class="bg-dark text-light mb-0 user-select-none">
          Player
          <button type="button" class="designer-widget-close btn btn-sm btn-light float-end" title="Close">
            <i class="fas fa-times-circle"></i>
          </button>
        </legend>

        <ul class="designer-widget-nav nav nav-tabs bg-light">

          <!-- Info -->
          <li class="nav-item">
            <a class="nav-link active" href="#" title="Info" data-op="player:info">
              <i class="fas fa-info"></i>
            </a>
          </li>

          <!-- Movement -->
          <li class="nav-item">
            <a class="nav-link" href="#" title="Movement" data-op="player:movement">
              <i class="fas fa-arrows-alt"></i>
            </a>
          </li>

        </ul>

        <div class="designer-widget-panes m-3">

          <!-- INFO -->
          <div class="active" data-op="player:info">

            <ul class="list-group">

              <!-- Coordinates -->
              <li class="list-group-item list-group-item-dark">
                Coordinates
                <span id="playerCoordinatesBadge" class="badge bg-primary float-end ms-3"></span>
              </li>

              <!-- Velocity -->
              <li class="list-group-item list-group-item-dark">
                Velocity
                <span id="playerVelocityBadge" class="badge bg-primary float-end ms-3"></span>
              </li>

              <!-- Blocks -->
              <li class="list-group-item list-group-item-dark">
                Blocks
                <span id="playerBlocksBadge" class="badge bg-primary float-end ms-3"></span>
              </li>

              <!-- Block Coordinates -->
              <li class="list-group-item list-group-item-dark">
                Block Coordinates
                <span id="playerBlockCoordinatesBadge" class="badge bg-primary float-end ms-3"></span>
              </li>

              <!-- Block Delta from Position -->
              <li class="list-group-item list-group-item-dark">
                Block Delta from Position
                <span id="playerBlockDeltaFromPositionBadge" class="badge bg-primary float-end ms-3"></span>
              </li>

            </ul>

          </div>

          <!-- MOVEMENT -->
          <div data-op="player:movement">

            <!-- Vertical Movement -->
            <div class="btn-group" role="group" aria-label="Player Vertical Movement">

              <!-- Up -->
              <button id="playerMoveUpBtn" type="button" class="btn btn-dark" title="Move Up (UP ARROW)">
                <i class="fas fa-arrow-up"></i>
              </button>

              <!-- Down -->
              <button id="playerMoveDownBtn" type="button" class="btn btn-dark" title="Move Down (DOWN ARROW)">
                <i class="fas fa-arrow-down"></i>
              </button>

            </div>

            <!-- Horizontal Movement -->
            <div class="btn-group" role="group" aria-label="Player Horizontal Movement">

              <!-- Left -->
              <button id="playerMoveLeftBtn" type="button" class="btn btn-dark" title="Move Left (LEFT ARROW)">
                <i class="fas fa-arrow-left"></i>
              </button>

              <!-- Right -->
              <button id="playerMoveRightBtn" type="button" class="btn btn-dark" title="Move Right (RIGHT ARROW)">
                <i class="fas fa-arrow-right"></i>
              </button>

            </div>

          </div>

        </div>

      </fieldset>

      <!-- CANVAS -->
      <canvas id="biome"></canvas>

      <!-- TOOLBAR -->
      <fieldset id="designerModeWidget" class="designer-widget d-none bg-light">

        <legend class="bg-dark text-light mb-0 user-select-none">
          <i class="fas fa-tools me-2"></i>Toolbar
          <button type="button" class="designer-widget-close btn btn-sm btn-dark float-end" title="Close">
            <i class="fas fa-times-circle"></i>
          </button>
        </legend>

        <ul class="designer-widget-nav nav nav-tabs bg-light">

          <!-- Select -->
          <li class="nav-item">
            <a class="nav-link active" href="#" title="Select" data-op="toolbar:select">
              <i class="fas fa-mouse-pointer"></i>
            </a>
          </li>

          <!-- Paint -->
          <li class="nav-item">
            <a class="nav-link" href="#" title="Paint" data-op="toolbar:paint">
              <i class="fas fa-brush"></i>
            </a>
          </li>

          <!-- Map -->
          <li class="nav-item">
            <a class="nav-link" href="#" title="Map" data-op="toolbar:map">
              <i class="fas fa-map"></i>
            </a>
          </li>

          <!-- Display -->
          <li class="nav-item">
            <a class="nav-link" href="#" title="Display" data-op="toolbar:display">
              <i class="fas fa-tv"></i>
            </a>
          </li>

        </ul>

        <div class="designer-widget-panes m-3">

          <!-- SELECT -->
          <div class="active" data-op="toolbar:select">
            <fieldset class="border border-secondary mb-3 p-3">
              <legend class="fs-5 user-select-none">Select<span class="badge bg-secondary float-end"></span></legend>
            </fieldset>
          </div>

          <!-- PAINT -->
          <div class="d-none" data-op="toolbar:paint">
            <fieldset class="border border-secondary mb-3 p-3">

              <legend class="fs-5 user-select-none">Paint</legend>

              <!-- Block: type-->
              <div class="mb-3">
                <label for="paintModeBlockTypeSelect" class="form-label">Block type</label>
                <select id="paintModeBlockTypeSelect" class="form-select" aria-label="Block type options"></select>
              </div>

              <!-- Block: solid -->
              <div class="mb-3">
                <input class="form-check-input" type="checkbox" value="" id="paintModeBlockSolidCheckbox">
                <label class="form-check-label" for="paintModeBlockSolidCheckbox">Solid</label>
              </div>

            </fieldset>
          </div>

          <!-- MAP -->
          <div class="d-none" data-op="toolbar:map">

            <fieldset class="border border-secondary p-3">

              <legend class="fs-5 user-select-none">Map</legend>

              <!-- Block Size -->
              <div class="mb-3">
                <label for="blockSize" class="form-label">Block size (px)</label>
                <input type="number" class="form-control" id="blockSize" value="64">
              </div>

              <!-- Map Dimensions -->
              <div class="row mb-3">

                <!-- Width -->
                <div class="col-6">
                  <label for="mapWidth" class="form-label">Width (px)</label>
                  <input type="number" class="form-control" id="mapWidth" value="2560">
                </div>

                <!-- Height -->
                <div class="col-6">
                  <label for="mapHeight" class="form-label">Height (px)</label>
                  <input type="number" class="form-control" id="mapHeight" value="1440">
                </div>

              </div>

              <div class="row mb-3">

                <!-- Blocks per Row -->
                <div class="col-6">
                  <label for="blocksPerRow" class="form-label">Blocks per Row</label>
                  <input type="number" class="form-control" id="blocksPerRow">
                </div>

                <!-- Blocks per Col -->
                <div class="col-6">
                  <label for="blocksPerCol" class="form-label">Blocks per Col</label>
                  <input type="number" class="form-control" id="blocksPerCol">
                </div>

              </div>

            </fieldset>

          </div>

          <!-- DISPLAY -->
          <div class="d-none" data-op="toolbar:display">
            <fieldset class="border border-secondary mb-3 p-3">

              <legend class="fs-5 user-select-none">Display</legend>

              <!-- Screen resolution -->
              <div class="mb-3">
                <label for="screenResolution" class="form-label">Screen resolution</label>
                <select id="screenResolution" class="form-select" aria-label="Screen Size">
                  <option value="720p">720p</option>
                  <option value="1080p">1080p</option>
                  <option value="1024x768">1024x768</option>
                </select>
              </div>

            </fieldset>
          </div>

        </div>

      </fieldset>

      <!-- CAMERA -->
      <fieldset id="cameraWidget" class="designer-widget d-none bg-light">

        <legend class="bg-dark text-light mb-0 user-select-none">
          <i class="fas fa-camera me-2"></i>Camera
          <button type="button" class="designer-widget-close btn btn-sm btn-dark float-end" title="Close">
            <i class="fas fa-times-circle"></i>
          </button>
        </legend>

        <ul class="designer-widget-nav nav nav-tabs bg-light">

          <!-- Info -->
          <li class="nav-item">
            <a class="nav-link active" href="#" title="Select" data-op="camera:info">
              <i class="fas fa-info"></i>
            </a>
          </li>

          <!-- Movement -->
          <li class="nav-item">
            <a class="nav-link" href="#" title="Paint" data-op="camera:movement">
              <i class="fas fa-arrows-alt"></i>
            </a>
          </li>

        </ul>

        <div class="designer-widget-panes m-3">

          <!-- INFO -->
          <div class="active" data-op="camera:info">

            <ul class="list-group mb-3">

              <!-- Coordinates -->
              <li class="list-group-item list-group-item-dark">
                Coordinates
                <span id="cameraCoordinatesBadge" class="badge bg-primary float-end ms-3"></span>
              </li>

            </ul>

            <!-- Elevation -->
            <div class="">
              <label for="cameraModeElevationRange" class="form-label">Elevation</label>
              <input type="range" class="form-range" min="1" max="4" value="1" id="cameraModeElevationRange">
            </div>

          </div>

          <!-- MOVEMENT -->
          <div class="d-none" data-op="camera:movement">

            <!-- Vertical Movement -->
            <div class="btn-group" role="group" aria-label="Camera Vertical Movement">

              <!-- Up -->
              <button id="cameraMoveUpBtn" type="button" class="btn btn-light" title="Move Up (W)">
                <i class="fas fa-arrow-up"></i>
              </button>

              <!-- Down -->
              <button id="cameraMoveDownBtn" type="button" class="btn btn-light" title="Move Down (S)">
                <i class="fas fa-arrow-down"></i>
              </button>

            </div>

            <!-- Horizontal Movement -->
            <div class="btn-group" role="group" aria-label="Camera Horizontal Movement">

              <!-- Left -->
              <button id="cameraMoveLeftBtn" type="button" class="btn btn-light" title="Move Left (A)">
                <i class="fas fa-arrow-left"></i>
              </button>

              <!-- Right -->
              <button id="cameraMoveRightBtn" type="button" class="btn btn-light" title="Move Right (D)">
                <i class="fas fa-arrow-right"></i>
              </button>

            </div>

          </div>

        </div>

      </fieldset>

      <!-- PLAYER MODE -->
      <div id="playerModeElement" class="position-absolute top-90 start-50 translate-middle btn-group bg-dark" role="group" aria-label="Tools">

        <!-- Belt -->
        <button type="button" class="btn btn-outline-dark btn-lg text-secondary active" data-op="belt" title="Belt">
          <i class="fas fa-dice-d6"></i>
        </button>

        <!-- Build -->
        <button type="button" class="btn btn-outline-dark btn-lg text-secondary" data-op="build" title="Build">
          <i class="fas fa-tools"></i>
        </button>

        <!-- Paint-->
        <button type="button" class="btn btn-outline-dark btn-lg text-secondary" data-op="paint" title="Paint">
          <i class="fas fa-paint-brush"></i>
        </button>

      </div>
      <div id="playerModePanes" class="position-absolute top-84 start-50 translate-middle bg-dark text-light">

        <!-- BELT -->
        <div id="playerBeltElement" class="player-mode-pane btn-group active" role="group" aria-label="Belt" data-op="belt">
          <button type="button" class="btn btn-outline-dark btn-lg text-secondary active" data-index="0" title="(1)"></button>
          <button type="button" class="btn btn-outline-dark btn-lg text-secondary" data-index="1" title="(2)"></button>
          <button type="button" class="btn btn-outline-dark btn-lg text-secondary" data-index="2" title="(3)"></button>
          <button type="button" class="btn btn-outline-dark btn-lg text-secondary" data-index="3" title="(4)"></button>
          <button type="button" class="btn btn-outline-dark btn-lg text-secondary" data-index="4" title="(5)"></button>
          <button type="button" class="btn btn-outline-dark btn-lg text-secondary" data-index="5" title="(6)"></button>
          <button type="button" class="btn btn-outline-dark btn-lg text-secondary" data-index="6" title="(7)"></button>
          <button type="button" class="btn btn-outline-dark btn-lg text-secondary" data-index="7" title="(8)"></button>
          <button type="button" class="btn btn-outline-dark btn-lg text-secondary" data-index="8" title="(9)"></button>
          <button type="button" class="btn btn-outline-dark btn-lg text-secondary" data-index="9" title="(0)"></button>
        </div>

        <!-- BUILD -->
        <div id="playerBuildElement" class="player-mode-pane d-none p-3" data-op="build"></div>

        <!-- PAINT -->
        <div id="playerBuildElement" class="player-mode-pane d-none p-3" data-op="paint"></div>

      </div>

    <!--</div>-->

    <!-- BUILDING (designer widget template) -->
    <fieldset id="buildingWidget" class="designer-widget d-none border border-secondary bg-light">

      <legend class="bg-dark text-light mb-0 me-3 user-select-none">
        <span>Building</span>
        <button type="button" class="designer-widget-close btn btn-sm btn-dark float-end" title="Close">
          <i class="fas fa-times-circle"></i>
        </button>
      </legend>

      <ul class="designer-widget-nav nav nav-tabs bg-light">

        <!-- Info -->
        <li class="nav-item">
          <a class="nav-link active" href="#" title="Info" data-op="info">
            <i class="fas fa-info"></i>
          </a>
        </li>

      </ul>

      <div class="designer-widget-panes m-3">

        <!-- INFO -->
        <div class="active" data-op="info">

          ...

        </div>

      </div>

    </fieldset>

    <!-- FOOTER -->

    <footer class="navbar navbar-dark fixed-bottom bg-dark flex-md-nowrap p-0 shadow text-light">

      <div class="ps-3">

        <!-- MOUSE COORDINATES -->
        <span id="canvasMouseCoords" class="badge">0,0</span>

        <!-- Show Grid -->
        <div class="mb-3">
          <input class="form-check-input" type="checkbox" value="" id="showGrid" checked>
          <label class="form-check-label text-light" for="showGrid">Show grid</label>
        </div>

      </div>

      <!-- PLAYBACK -->

      <div class="pe-3">

        <h4 class="visually-hidden">Playback</h4>

        <div id="playbackBtns" class="btn-group" role="group" aria-label="Playback">

          <!-- Pause -->
          <button type="button" class="btn btn-dark active" data-playback="pause" title="Pause (SPACE)">
            <i class="fas fa-pause"></i>
          </button>

          <!-- Play -->
          <button type="button" class="btn btn-dark" data-playback="play" title="Play (SPACE)">
            <i class="fas fa-play"></i>
          </button>

        </div>

      </div>

    </footer>

<!-- Modal: File / Save -->
<div class="modal fade" id="fileSaveModal" tabindex="-1" aria-labelledby="fileSaveModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title fs-5" id="fileSaveModalLabel">Save</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal: File / Open -->
<div class="modal fade" id="fileOpenModal" tabindex="-1" aria-labelledby="fileOpenModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title fs-5" id="fileOpenModalLabel">Open</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal: Block -->
<div class="modal fade" id="blockModal" tabindex="-1" aria-labelledby="blockModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title fs-5" id="blockModalLabel">Block</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body"></div>
    </div>
  </div>
</div>

    <script type="text/javascript" src="vendor/bootstrap-5.2.3-dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="js/designer.js"></script>

  </body>

</html>
